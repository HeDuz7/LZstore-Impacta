@using LZStore.Models.Extensions
@using LZStore.Models.Services
@using System.Net
@using static LZStore.Models.Enums.Enum
@model LZStore.Models.Dtos.ProdutoDto

@{
    ViewData["Title"] = "CadastrarProduto";

   
}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../img/bolaPreta.png">
    <title>LZ|CadProd</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-jLX0tP5N7c8+jRRMjO9kmO2DRs7+GCRwhpSeMUMCR1t5JLPtGtsHbSLUwxjA0sY9" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../css/styleCadastro.css">
</head>

<body style="overflow: hidden;">
    <div class="testbox">
        <form asp-action="CadastrarProduto" enctype="multipart/form-data">

        <p id="h1" class="textos"><b>Cadastro de Produto</b></p>

            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Nome</b></p>
                
                <input asp-for="NomeProduto" placeholder="Nome do Produto" type="text" class="input form-control" />
                <span asp-validation-for="NomeProduto" class="text-danger"></span>
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Preço</b></p>
                
                <input asp-for="PrecoProduto" placeholder="Preço do Produto"  class="form-control" />
                <span asp-validation-for="PrecoProduto" class="text-danger"></span>
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Produto</b></p>
                
                <input asp-for="DescProduto" placeholder="Descrição do Produto" type="text" class="input form-control" />
                <span asp-validation-for="DescProduto" class="text-danger"></span>
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Imagem do Produto</b></p>

                <input asp-for="IMGProduto" class="form-control" type="file"/>
                <span asp-validation-for="IMGProduto"></span> 
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Estoque</b></p>
                
                <input asp-for="EstoqueProd" placeholder="Quantidade no estoque" type="number" class="input form-control" />
                <span asp-validation-for="EstoqueProd" class="text-danger"></span>
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Modelo do Produto</b></p>
                
                @Html.DropDownListFor(Enum => Enum.ModeloProd, ModeloProd.Torcedor.ToSelectList(), new { @class = "input form-control" })
                @* <input asp-for="ModeloProd" class="form-control" /> *@
                <span asp-validation-for="ModeloProd" class="text-danger"></span>
            </div>

            <div class="form-group">
                <p id="h4" class="textos"><b>Tamanho do Produto</b></p>

                @Html.DropDownListFor(Enum => Enum.TamanhoProd, TamanhoProd.P.ToSelectList(), new { @class = "input form-control" })
                @* <input asp-for="TamanhoProd" class="form-control" /> *@
                <span asp-validation-for="TamanhoProd" class="text-danger"></span>
            </div>
            
            <div class="btn-block">
                <input type="submit" value="Cadastrar Produto" class="btn btn-primary" />
            </div>

        </form>
    </div>
</body>

@{
    // var imagem = FerramentaService.imageToByteArray(ImgProduto);
    // using (WebClient webClient = new WebClient())
    // {
    //     byte[] data = webClient.DownloadData(ImgProduto);
    // }
}

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
